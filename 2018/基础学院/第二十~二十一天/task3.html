<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>IFE ECMAScript</title>
    <style>
        .palette {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .palette li {
            width: 40px;
            height: 40px;
            border: 1px solid #000;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <ul class="palette">
        <li style="background-color:crimson" id="1th"></li>
        <li style="background-color:bisque" id="2th"></li>
        <li style="background-color:blueviolet" id="3th"></li>
        <li style="background-color:coral" id="4th"></li>
        <li style="background-color:chartreuse" id="5th"></li>
        <li style="background-color:darkolivegreen" id="6th"></li>
        <li style="background-color:cyan" id="7th"></li>
        <li style="background-color:#194738" id="8th"></li>
    </ul>

    <p class="color-picker"></p>

    <script>
        /*
        var list = document.querySelectorAll("li");
        for (var i = i = 0, len = list.length; i < len; i++) {
            list[i].onclick = function (e) {
                var t = e.target;
                var c = t.style.backgroundColor;
                var p = document.getElementsByClassName("color-picker")[0]
                p.innerHTML = c;
                p.style.color = c;

            }
        }
        */
       
        // 事件委托
        var oUl = document.querySelector(".palette");
        oUl.onclick = function (e) {

            var li = e.target || e.srcElement;
            var p = document.getElementsByClassName("color-picker")[0]

            var c = li.style.backgroundColor;
            p.innerHTML = c;
            p.style.color = c;    
        }

    </script>
</body>

</html>